<!--
  registrar-venta.html - Formulario para registrar una nueva venta
  Incluye validaciones, mensajes de error y confirmación.
-->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Registrar Venta</title>
  <link rel="stylesheet" href="../assets/style.css" />
</head>
<body>
  <header>
    <h1>Registrar Venta</h1>
    <div style="margin-bottom: 18px;">
      <a href="ventas.html"><button>← Volver a Ventas</button></a>
    </div>
  </header>
  <main class="main">
    <form id="form-venta" novalidate>
      <div class="form-group">
        <label for="cliente">Cliente</label>
        <input id="cliente" type="text" required aria-required="true" placeholder="Ej: Juan Pérez" />
        <small class="error-msg" id="e-cliente"></small>
      </div>
      <div class="form-group">
        <label for="producto">Producto</label>
        <div id="producto-selector" class="producto-selector" tabindex="0" style="position:relative;">
          <div id="producto-seleccionado" class="producto-seleccionado" style="display:flex;align-items:center;gap:12px;min-height:48px;cursor:pointer;border:1px solid #ccc;border-radius:8px;padding:8px 12px;background:#fff;">
            <span style="color:#888;">Seleccionar producto...</span>
          </div>
          <div id="menu-productos" class="menu-productos" style="display:none;position:absolute;z-index:20;top:110%;left:0;width:100%;background:#fff;border:1px solid #ccc;border-radius:8px;box-shadow:0 2px 8px #0002;max-height:260px;overflow-y:auto;"></div>
        </div>
        <input type="hidden" id="producto" required aria-required="true" />
        <small class="error-msg" id="e-producto"></small>
      </div>
      <div class="form-group">
        <label for="cantidad">Cantidad</label>
        <input id="cantidad" type="number" min="1" step="1" value="1" required aria-required="true" placeholder="Ej: 2" />
        <small class="error-msg" id="e-cantidad"></small>
      </div>
      <div class="form-group">
        <label for="metodo">Método de pago</label>
        <select id="metodo" required aria-required="true">
          <option value="">--Seleccionar--</option>
          <option value="Efectivo">Efectivo</option>
          <option value="Tarjeta">Tarjeta</option>
          <option value="Cripto">Cripto</option>
          <option value="MercadoPago">Mercado Pago</option>
        </select>
        <small class="error-msg" id="e-metodo"></small>
      </div>
      <div class="form-group" id="grupo-cripto" style="display:none;">
        <label for="tipo-cripto">Tipo de Criptomoneda</label>
        <select id="tipo-cripto">
          <option value="bitcoin">Bitcoin (BTC)</option>
          <option value="ethereum">Ethereum (ETH)</option>
        </select>
        <label for="monto-pesos" style="margin-top:8px;display:block;">Monto en Pesos (ARS)</label>
        <input id="monto-pesos" type="number" min="1" step="0.01" placeholder="Ej: 5000" />
        <small class="error-msg" id="e-cripto"></small>
        <div id="conversion-cripto" style="margin-top:6px;"></div>
      </div>
      <button type="submit" class="primary">Registrar Venta</button>
      <div class="success-msg" id="success-msg"></div>
    </form>
  </main>
  <script src="registrar-venta.js"></script>
</body>
</html>
